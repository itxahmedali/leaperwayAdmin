!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/forms"),require("prosemirror-state"),require("prosemirror-view"),require("prosemirror-model"),require("prosemirror-schema-list"),require("rxjs"),require("ngx-editor/plugins"),require("@angular/common"),require("prosemirror-commands"),require("ngx-editor/helpers"),require("ngx-editor/commands"),require("@angular/platform-browser")):"function"==typeof define&&define.amd?define("ngx-editor",["exports","@angular/core","@angular/forms","prosemirror-state","prosemirror-view","prosemirror-model","prosemirror-schema-list","rxjs","ngx-editor/plugins","@angular/common","prosemirror-commands","ngx-editor/helpers","ngx-editor/commands","@angular/platform-browser"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["ngx-editor"]={},e.ng.core,e.ng.forms,e.prosemirrorState,e.prosemirrorView,e.prosemirrorModel,e.prosemirrorSchemaList,e.rxjs,e["ngx-editor"].plugins,e.ng.common,e.prosemirrorCommands,e["ngx-editor"].helpers,e["ngx-editor"].commands,e.ng.platformBrowser)}(this,(function(e,t,n,o,r,i,s,a,l,c,u,d,p,g){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */Object.create;function h(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}function f(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(h(arguments[t]));return e}Object.create;var m={bold:"Bold",italic:"Italic",code:"Code",underline:"Underline",strike:"Strike",blockquote:"Blockquote",bullet_list:"Bullet List",ordered_list:"Ordered List",heading:"Heading",h1:"Header 1",h2:"Header 2",h3:"Header 3",h4:"Header 4",h5:"Header 5",h6:"Header 6",align_left:"Left Align",align_center:"Center Align",align_right:"Right Align",align_justify:"Justify",text_color:"Text Color",background_color:"Background Color",url:"URL",text:"Text",openInNewTab:"Open in new tab",insert:"Insert",altText:"Alt Text",title:"Title",remove:"Remove"},v=function(e){var t=this;void 0===e&&(e={}),this.locals=m,this.get=function(e){var n;return null!==(n=t.locals[e])&&void 0!==n?n:""},this.locals=Object.assign({},m,e)},b=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))},x=function(e){var t={};return Object.keys(e).forEach((function(n){e[n]&&(t[n]=e[n])})),t},_=function(e){var t=x(e);return Object.entries(t).map((function(e){var t=h(e,2),n=t[0],o=t[1];return b(n)+":"+o})).join(";")},y={doc:{content:"block+"},text:{group:"inline"},paragraph:{content:"inline*",group:"block",attrs:{align:{default:null}},parseDOM:[{tag:"p",getAttrs:function(e){var t=e.style.textAlign;return{align:e.getAttribute("align")||t||null}}}],toDOM:function(e){var t=e.attrs.align;return["p",{style:_({textAlign:"left"!==t?t:null})||null},0]}},blockquote:{content:"block+",group:"block",defining:!0,parseDOM:[{tag:"blockquote"}],toDOM:function(){return["blockquote",0]}},horizontal_rule:{group:"block",parseDOM:[{tag:"hr"}],toDOM:function(){return["hr"]}},heading:{attrs:{level:{default:1},align:{default:null}},content:"inline*",group:"block",defining:!0,parseDOM:[{tag:"h1",getAttrs:function(e){var t=e.style.textAlign;return{level:1,align:e.getAttribute("align")||t||null}}},{tag:"h2",getAttrs:function(e){var t=e.style.textAlign;return{level:2,align:e.getAttribute("align")||t||null}}},{tag:"h3",getAttrs:function(e){var t=e.style.textAlign;return{level:3,align:e.getAttribute("align")||t||null}}},{tag:"h4",getAttrs:function(e){var t=e.style.textAlign;return{level:4,align:e.getAttribute("align")||t||null}}},{tag:"h5",getAttrs:function(e){var t=e.style.textAlign;return{level:5,align:e.getAttribute("align")||t||null}}},{tag:"h6",getAttrs:function(e){var t=e.style.textAlign;return{level:6,align:e.getAttribute("align")||t||null}}}],toDOM:function(e){var t=e.attrs,n=t.level,o=t.align;return["h"+n,{style:_({textAlign:"left"!==o?o:null})||null},0]}},hard_break:{inline:!0,group:"inline",selectable:!1,parseDOM:[{tag:"br"}],toDOM:function(){return["br"]}},code_block:{content:"text*",marks:"",group:"block",code:!0,defining:!0,parseDOM:[{tag:"pre",preserveWhitespace:"full"}],toDOM:function(){return["pre",["code",0]]}},image:{inline:!0,attrs:{src:{},alt:{default:null},title:{default:null},width:{default:null}},group:"inline",draggable:!0,parseDOM:[{tag:"img[src]",getAttrs:function(e){return{src:e.getAttribute("src"),title:e.getAttribute("title"),alt:e.getAttribute("alt"),width:e.getAttribute("width")}}}],toDOM:function(e){var t=e.attrs;return["img",{src:t.src,alt:t.alt,title:t.title,width:t.width}]}},list_item:Object.assign(Object.assign({},s.listItem),{content:"paragraph block*"}),ordered_list:Object.assign(Object.assign({},s.orderedList),{content:"list_item+",group:"block"}),bullet_list:Object.assign(Object.assign({},s.bulletList),{content:"list_item+",group:"block"})},w={link:{attrs:{href:{},title:{default:null},target:{default:"_blank"}},inclusive:!1,parseDOM:[{tag:"a[href]",getAttrs:function(e){return{href:e.getAttribute("href"),title:e.getAttribute("title"),target:e.getAttribute("target")}}}],toDOM:function(e){var t=e.attrs;return["a",{href:t.href,title:t.title,target:t.target},0]}},em:{parseDOM:[{tag:"i"},{tag:"em"},{style:"font-style=italic"}],toDOM:function(){return["em",0]}},strong:{parseDOM:[{tag:"strong"},{tag:"b",getAttrs:function(e){return"normal"!==e.style.fontWeight&&null}},{style:"font-weight",getAttrs:function(e){return/^(bold(er)?|[5-9]\d{2,})$/.test(e)&&null}}],toDOM:function(){return["strong",0]}},code:{parseDOM:[{tag:"code"}],toDOM:function(){return["code",0]}},u:{parseDOM:[{tag:"u"},{style:"text-decoration=underline"}],toDOM:function(){return["u",0]}},s:{parseDOM:[{tag:"s"},{tag:"strike"},{style:"text-decoration=line-through"}],toDOM:function(){return["s",0]}},text_color:{attrs:{color:{default:null}},parseDOM:[{style:"color",getAttrs:function(e){return{color:e}}}],toDOM:function(e){return["span",{style:"color:"+e.attrs.color+";"},0]}},text_background_color:{attrs:{backgroundColor:{default:null}},parseDOM:[{style:"background-color",getAttrs:function(e){return{backgroundColor:e}}}],toDOM:function(e){return["span",{style:"background-color:"+e.attrs.backgroundColor+";"},0]}}},E=new i.Schema({marks:w,nodes:y}),N=["#b60205","#d93f0b","#fbca04","#0e8a16","#006b75","#1d76db","#0052cc","#5319e7","#e99695","#f9d0c4","#fef2c0","#c2e0c6","#bfdadc","#c5def5","#bfd4f2","#d4c5f9"],k={toolbar:[["bold","italic"],["code","blockquote"],["underline","strike"],["ordered_list","bullet_list"],[{heading:["h1","h2","h3","h4","h5","h6"]}],["link","image"],["text_color","background_color"],["align_left","align_center","align_right","align_justify"]],colorPresets:[]},M=E,I=[],C=function(){this.plugins=I,this.nodeViews={},this.schema=M,this.menu=k,this.locals={}};C.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new C},token:C,providedIn:"root"}),C.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}];var D=function(){function e(e){this.config=e}return Object.defineProperty(e.prototype,"locals",{get:function(){return new v(this.config.locals)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"menu",{get:function(){return this.config.menu},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorPresets",{get:function(){var e=[],t=this.config.menu.colorPresets;return(t.length?t:N).forEach((function(t,n){var o=Math.floor(n/8);e[o]||e.push([]),e[o].push(t)})),e},enumerable:!1,configurable:!0}),e}();D.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new D(t.ɵɵinject(C,8))},token:D,providedIn:"root"}),D.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],D.ctorParameters=function(){return[{type:C,decorators:[{type:t.Optional}]}]};var H,z=function(e){var t,n,o,r,i;return null!==e.menu&&(i=e.menu?Array.isArray(e.menu)?Object.assign(Object.assign({},k),{toolbar:e.menu}):Object.assign(Object.assign({},k),e.menu):k),{plugins:null!==(t=null==e?void 0:e.plugins)&&void 0!==t?t:I,nodeViews:null!==(n=null==e?void 0:e.nodeViews)&&void 0!==n?n:{},menu:i,schema:null!==(o=null==e?void 0:e.schema)&&void 0!==o?o:M,locals:null!==(r=e.locals)&&void 0!==r?r:{}}},P=function(){function e(){H.set(this,void 0),this.customMenuRefChange=new a.Subject,this.plugin={update:new a.Subject,destroy:new a.Subject}}return Object.defineProperty(e.prototype,"view",{get:function(){return function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}(this,H)},set:function(e){!function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");t.set(e,n)}(this,H,e)},enumerable:!1,configurable:!0}),e.prototype.setCustomMenuRef=function(e){this.customMenuRefChange.next(e)},e}();H=new WeakMap,P.ɵprov=t.ɵɵdefineInjectable({factory:function(){return new P},token:P,providedIn:"root"}),P.decorators=[{type:t.Injectable,args:[{providedIn:"root"}]}],P.ctorParameters=function(){return[]};var O=function(e,t){var n=null!=t?t:E,o=n.nodeFromJSON(e),r=i.DOMSerializer.fromSchema(n).serializeFragment(o.content),s=document.createElement("div");return s.appendChild(r),s.innerHTML},A=function(e,t){var n=null!=t?t:E,o=document.createElement("div");return o.innerHTML=e,i.DOMParser.fromSchema(n).parse(o).toJSON()},S=function(e,t){if(!e)return null;if("string"!=typeof e)return t.nodeFromJSON(e);var n=A(e,t);return t.nodeFromJSON(n)},L=function(){function e(e,n){this.sharedService=n,this.editorInitialized=!1,this.placeholder="Type here...",this.editable=!0,this.init=new t.EventEmitter,this.focusOut=new t.EventEmitter,this.focusIn=new t.EventEmitter,this.config=e.config}return Object.defineProperty(e.prototype,"toolbar",{get:function(){var e;return null===(e=this.config.menu)||void 0===e?void 0:e.toolbar},enumerable:!1,configurable:!0}),e.prototype.writeValue=function(e){this.editorInitialized&&(this.outputFormat||"string"!=typeof e||(this.outputFormat="html"),this.updateContent(e))},e.prototype.registerOnChange=function(e){this.onChange=e},e.prototype.registerOnTouched=function(e){this.onTouched=e},e.prototype.updateContent=function(e){try{var t=this.view.state,n=t.tr,o=t.doc,r=S(e,this.config.schema);if(n.replaceWith(0,t.doc.content.size,r).setMeta("PREVENT_ONCHANGE",!0),null!==o&&o.eq(n.doc))return;if(!n.docChanged)return;this.view.dispatch(n)}catch(e){console.error("Unable to update document.",e)}},e.prototype.handleTransactions=function(e){var t=this.view.state.applyTransaction(e).state;if(this.view.updateState(t),e.docChanged&&this.onChange&&!e.getMeta("PREVENT_ONCHANGE")){var n=t.doc.toJSON();if("html"!==this.outputFormat)this.onChange(n);else{var o=O(n,this.config.schema);this.onChange(o)}}},e.prototype.createUpdateWatcherPlugin=function(){var e=this;return new o.Plugin({key:new o.PluginKey("ngx-update-watcher"),view:function(){return{update:function(t){return e.sharedService.plugin.update.next(t)},destroy:function(){return e.sharedService.plugin.destroy.next()}}}})},e.prototype.filterBuiltIns=function(e){var t=e.key;return!/^(editable|placeholder)\$/.test(t)},e.prototype.createEditor=function(){var e=this,t=this.config,n=t.schema,i=t.plugins,s=t.nodeViews;this.view=new r.EditorView(this.ngxEditor.nativeElement,{state:o.EditorState.create({doc:null,schema:n,plugins:f(i.filter((function(t){return e.filterBuiltIns(t)})),[this.createUpdateWatcherPlugin(),l.placeholder(this.placeholder),l.editable(this.editable)])}),nodeViews:s,dispatchTransaction:this.handleTransactions.bind(this),handleDOMEvents:{focus:function(){return e.focusIn.emit(),!1},blur:function(){return e.onTouched(),e.focusOut.emit(),!1}},attributes:{class:"NgxEditor__Content"}}),this.editorInitialized=!0,this.sharedService.view=this.view,this.sharedService.setCustomMenuRef(this.customMenuRef),this.init.emit(this.view)},e.prototype.setPlaceholder=function(e){var t=this.view,n=t.dispatch,o=t.state.tr,r=null!=e?e:this.placeholder;n(o.setMeta("UPDATE_PLACEHOLDER",r))},e.prototype.updateEditable=function(e){var t=this.view;(0,t.dispatch)(t.state.tr.setMeta("UPDATE_EDITABLE",e))},e.prototype.ngOnInit=function(){this.createEditor(),this.setPlaceholder()},e.prototype.ngOnChanges=function(e){(null==e?void 0:e.placeholder)&&!e.placeholder.isFirstChange()&&this.setPlaceholder(e.placeholder.currentValue),(null==e?void 0:e.editable)&&!e.editable.isFirstChange()&&this.updateEditable(e.editable.currentValue)},e.prototype.ngOnDestroy=function(){this.view.destroy()},e}();L.decorators=[{type:t.Component,args:[{selector:"ngx-editor",template:'<div class="NgxEditor" #ngxEditor>\n  <ngx-menu \n    [toolbar]="toolbar" \n    [editorView]="view"\n    *ngIf="toolbar"\n    [disabled]="!editable"\n  >\n  </ngx-menu>\n  <ngx-bubble></ngx-bubble>\n</div>\n',providers:[{provide:n.NG_VALUE_ACCESSOR,useExisting:t.forwardRef((function(){return L})),multi:!0}],encapsulation:t.ViewEncapsulation.None,styles:[".NgxEditor{background:#fff;background-clip:padding-box;border:2px solid rgba(0,0,0,.2);border-radius:4px;color:#000;overflow:hidden;position:relative}.NgxEditor--Disabled{opacity:.5;pointer-events:none}.NgxEditor__Placeholder{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;color:#6c757d;cursor:text;opacity:1;position:absolute;user-select:none}.NgxEditor__Content{padding:.5rem;white-space:pre-wrap}.NgxEditor__Content p{margin:0 0 .7rem}.NgxEditor__Content blockquote{border-left:3px solid #ddd;margin-left:0;margin-right:0;padding-left:1rem}.NgxEditor__Content--Disabled{-moz-user-select:none;-ms-user-select:none;-webkit-user-select:none;pointer-events:none;user-select:none}.NgxEditor__ImageWrapper{display:inline-block;line-height:0;padding:2px;position:relative}.NgxEditor__ImageWrapper.NgxEditor__Resizer--Active{border:1px solid #1a73e8;padding:1px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle{display:none;height:100%;position:absolute;width:100%}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL,.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{background-color:#1a73e8;border:1px solid #fff;height:7px;position:absolute;width:7px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BR{bottom:-5px;cursor:se-resize;right:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TR{cursor:ne-resize;right:-5px;top:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--TL{cursor:nw-resize;left:-5px;top:-5px}.NgxEditor__ImageWrapper .NgxEditor__ResizeHandle .NgxEditor__ResizeHandle--BL{bottom:-5px;cursor:sw-resize;left:-5px}.ProseMirror{outline:none}.NgxEditor__HelpText{font-size:80%}.NgxEditor__HelpText.NgxEditor__HelpText--Error{color:red}"]}]}],L.ctorParameters=function(){return[{type:D},{type:P}]},L.propDecorators={ngxEditor:[{type:t.ViewChild,args:["ngxEditor",{static:!0}]}],outputFormat:[{type:t.Input}],customMenuRef:[{type:t.Input}],placeholder:[{type:t.Input}],editable:[{type:t.Input}],init:[{type:t.Output}],focusOut:[{type:t.Output}],focusIn:[{type:t.Output}]};var V=function(){function e(e){var t=this;this.sharedService=e,this.disabled=!1,this.customMenuRef=null,this.simpleCommands=["bold","italic","underline","strike","code","blockquote","ordered_list","bullet_list","align_left","align_center","align_right","align_justify"],this.iconContainerClass=["NgxEditor__MenuItem","NgxEditor__MenuItem--Icon"],this.dropdownContainerClass=["NgxEditor__Dropdown"],this.seperatorClass=["NgxEditor__Seperator"],this.customMenuRefSubscription=this.sharedService.customMenuRefChange.subscribe((function(e){t.customMenuRef=e}))}return e.prototype.isDropDown=function(e){return"object"==typeof e},e.prototype.ngOnDestroy=function(){this.customMenuRefSubscription.unsubscribe()},e}();V.decorators=[{type:t.Component,args:[{selector:"ngx-menu",template:'<div class="NgxEditor__MenuBar" [ngClass]="{\'NgxEditor--Disabled\': disabled}">\n\n  <ng-container *ngFor="let toolbarItem of toolbar; let lastToolbarItem = last">\n    <ng-container *ngFor="let item of toolbarItem; let lastItem = last">\n\n      \x3c!-- simple icons --\x3e\n      <ngx-simple-command [name]="item" [class]="iconContainerClass" *ngIf="simpleCommands.includes(item)">\n      </ngx-simple-command>\n\n      \x3c!-- link --\x3e\n      <ngx-link [name]="item" [class]="iconContainerClass" *ngIf="item === \'link\'">\n      </ngx-link>\n\n      \x3c!-- image --\x3e\n      <ngx-image [name]="item" [class]="iconContainerClass" *ngIf="item === \'image\'">\n      </ngx-image>\n\n      \x3c!-- dropdown --\x3e\n      <ng-container *ngIf="isDropDown(item)">\n        <ng-container *ngFor="let dropdown of item | keyvalue">\n          <ngx-dropdown [class]="dropdownContainerClass" [group]="dropdown.key" [items]="dropdown.value">\n          </ngx-dropdown>\n        </ng-container>\n      </ng-container>\n\n      \x3c!-- text color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'text_color\'" type="text_color">\n      </ngx-color-picker>\n      \x3c!-- background color picker --\x3e\n      <ngx-color-picker [class]="iconContainerClass" *ngIf="item === \'background_color\'" type="background_color">\n      </ngx-color-picker>\n\n      \x3c!-- seperator --\x3e\n      <div [class]="seperatorClass" *ngIf="lastItem && !lastToolbarItem"></div>\n    </ng-container>\n  </ng-container>\n\n  \x3c!-- custom menu --\x3e\n  <ng-container *ngIf="customMenuRef">\n    <ng-container [ngTemplateOutlet]="customMenuRef"></ng-container>\n  </ng-container>\n\n</div>\n',encapsulation:t.ViewEncapsulation.None,styles:['.NgxEditor__MenuBar{border-bottom:1px solid #ddd;cursor:default;display:flex;height:1.85rem;padding:.2rem}.NgxEditor__MenuItem{align-items:center;border-radius:2px;display:flex;flex-shrink:0;justify-content:center;position:relative}.NgxEditor__MenuItem:hover{background-color:#f1f1f1}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon{height:1.85rem;transition:.3s ease-in-out;width:1.85rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Icon+.NgxEditor__MenuItem--Icon{margin-left:2px}.NgxEditor__MenuItem .NgxEditor__MenuItem--IconContainer{align-items:center;display:flex;height:100%;justify-content:center;width:100%}.NgxEditor__MenuItem.NgxEditor__MenuItem--Text{padding:0 .3rem}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active{background-color:#e8f0fe}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active.NgxEditor__MenuItem--Text{color:#1a73e8}.NgxEditor__MenuItem.NgxEditor__MenuItem--Active svg{fill:#1a73e8}.NgxEditor__Dropdown{align-items:center;display:flex;flex-shrink:0;min-width:4rem;position:relative}.NgxEditor__Dropdown:hover{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text{align-items:center;display:flex;height:100%;justify-content:center;padding:0 .3rem;width:100%}.NgxEditor__Dropdown .NgxEditor__Dropdown--Text:after{border-bottom:0;border-left:.25rem solid transparent;border-right:.25rem solid transparent;border-top:.25rem solid;content:"";display:inline-block;margin-left:1.5rem;vertical-align:.25rem}.NgxEditor__Dropdown .NgxEditor__Dropdown--DropdownMenu{background-color:#fff;border-radius:4px;box-shadow:0 2px 6px 2px rgba(60,64,67,.15);left:0;position:absolute;top:calc(1.85rem + 2px);width:100%;z-index:10}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item{color:inherit;padding:.5rem;white-space:nowrap}.NgxEditor__Dropdown .NgxEditor__Dropdown--Item:hover{background-color:#ececec}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected{background-color:#e8f0fe}.NgxEditor__Dropdown.NgxEditor__Dropdown--Open .NgxEditor__Dropdown--Text,.NgxEditor__Dropdown.NgxEditor__Dropdown--Selected .NgxEditor__Dropdown--Text{color:#1a73e8}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active{background-color:#f1f1f1}.NgxEditor__Dropdown .NgxEditor__Dropdown--Active:hover{background-color:#e7e7e7}.NgxEditor__Popup{background-color:#fff;border-radius:4px;box-shadow:0 2px 6px 2px rgba(60,64,67,.15);min-width:12rem;padding:8px;position:absolute;top:calc(1.85rem + 2px);z-index:10}.NgxEditor__Popup .NgxEditor__Popup--FormGroup{margin-bottom:8px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup label{margin-bottom:3px}.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=text],.NgxEditor__Popup .NgxEditor__Popup--FormGroup input[type=url]{padding:2px 4px}.NgxEditor__Popup .NgxEditor__Popup--Col{display:flex;flex-direction:column;position:relative}.NgxEditor__Popup .NgxEditor__Popup--Label{font-size:85%}.NgxEditor__Seperator{border-left:1px solid #ccc;margin:0 .3rem}']}]}],V.ctorParameters=function(){return[{type:P}]},V.propDecorators={toolbar:[{type:t.Input}],editorView:[{type:t.Input}],disabled:[{type:t.Input}]};var T=function(){function e(e){this.name=e}return e.prototype.execute=function(e,t){var n=e.schema.marks[this.name];return!!n&&u.toggleMark(n)(e,t)},e.prototype.isActive=function(e){var t=e.schema.marks[this.name];return!!t&&d.isMarkActive(e,t)},e.prototype.canExecute=function(e){return this.execute(e,null)},e}(),j=function(){function e(){}return e.prototype.execute=function(e,t){var n=e.schema.nodes.blockquote;return!!n&&(this.isActive(e)?u.lift(e,t):u.wrapIn(n)(e,t))},e.prototype.isActive=function(e){var t=e.schema.nodes.blockquote;return!!t&&d.isNodeActive(e,t)},e.prototype.canExecute=function(e){return this.execute(e,null)},e}(),R=function(){function e(e){void 0===e&&(e=!1),this.isBulletList=!1,this.isBulletList=e}return e.prototype.getType=function(e){return this.isBulletList?e.nodes.bullet_list:e.nodes.ordered_list},e.prototype.execute=function(e,t){var n=e.schema,o=this.getType(n);return!!o&&(this.isActive(e)?s.liftListItem(n.nodes.list_item)(e,t):s.wrapInList(o)(e,t))},e.prototype.isActive=function(e){var t=e.schema,n=this.getType(t);return!!n&&d.isNodeActive(e,n)},e.prototype.canExecute=function(e){return this.execute(e,null)},e}(),F=function(){function e(e){this.level=e}return e.prototype.execute=function(e,t){var n,o=e.schema,r=e.selection,i=e.doc,s=o.nodes.heading;if(!s)return!1;var a=r.$from.before(1),l=i.nodeAt(a),c=null!==(n=null==l?void 0:l.attrs)&&void 0!==n?n:{};return this.isActive(e)?u.setBlockType(o.nodes.paragraph,c)(e,t):u.setBlockType(s,Object.assign(Object.assign({},c),{level:this.level}))(e,t)},e.prototype.isActive=function(e){var t=this,n=e.schema,o=d.getSelectionNodes(e),r=n.nodes.heading;if(!r)return!1;var i=[r,n.nodes.text,n.nodes.blockquote],s=o.filter((function(e){return i.includes(e.type)})).find((function(e){return e.attrs.level===t.level}));return Boolean(s)},e.prototype.canExecute=function(e){return this.execute(e,null)},e}(),B=function(){function e(e){this.align=e}return e.prototype.execute=function(e,t){var n=this,o=e.doc,r=e.selection,i=e.tr,s=e.schema,a=r.from,l=r.to,c=!1;return o.nodesBetween(a,l,(function(e,t){var o=e.type;return[s.nodes.paragraph,s.nodes.heading].includes(o)&&(c=!0,i.setNodeMarkup(t,o,Object.assign(Object.assign({},e.attrs),{align:n.align}))),!0})),!!c&&(i.docChanged&&(null==t||t(i)),!0)},e.prototype.isActive=function(e){var t=this,n=d.getSelectionNodes(e).find((function(e){return e.attrs.align===t.align}));return Boolean(n)},e.prototype.canExecute=function(e){return this.execute(e,null)},e}(),q={strict:!0},U=function(){function e(){}return e.prototype.update=function(e,t,n){void 0===e&&(e={});var o=t.schema.marks.link;return!!o&&u.toggleMark(o,e)(t,n)},e.prototype.insert=function(e,t,n,o){void 0===t&&(t={});var r=n.schema,i=n.tr;if(!r.marks.link)return!1;var s=r.text(e,[r.marks.link.create(t)]);return o(i.replaceSelectionWith(s,!1)),!0},e.prototype.isActive=function(e,t){if(void 0===t&&(t=q),t.strict)return!0;var n=e.schema;return d.isMarkActive(e,n.marks.link)},e.prototype.remove=function(e,t){return p.removeLink()(e,t)},e.prototype.canExecute=function(e){return this.update({},e,null)},e}(),G=function(){function e(){}return e.prototype.execute=function(e,t,n){void 0===e&&(e={});var r=t.schema,i=t.tr,s=t.selection,a=r.nodes.image;if(!a)return!1;var l=Object.assign(Object.assign({},e),{width:null});return s instanceof o.NodeSelection&&s.node.type===a&&(l.width=s.node.attrs.width),i.replaceSelectionWith(a.createAndFill(l)),!!i.docChanged&&(null==n||n(i),!0)},e.prototype.isActive=function(e){var t=e.selection;return t instanceof o.NodeSelection&&"image"===t.node.type.name},e}(),W=function(){function e(e){this.name=e}return e.prototype.execute=function(e){var t=this;return function(n,o){var r=n.schema,i=n.selection,s=n.doc,a=r.marks[t.name];if(!a)return!1;var l=i.from,c=i.to;if(!i.empty&&l+1===c){var u=s.nodeAt(l);if(u.isAtom&&!u.isText&&u.isLeaf)return!1}return p.applyMark(a,e)(n,o)}},e.prototype.isActive=function(e){var t=e.schema.marks[this.name];return!!t&&d.isMarkActive(e,t)},e.prototype.getActiveColors=function(e){var t=this;if(!this.isActive(e))return[];var n=e.schema;return d.getSelectionMarks(e).filter((function(e){return e.type===n.marks[t.name]})).map((function(e){return e.attrs.color})).filter(Boolean)},e.prototype.remove=function(e,t){var n=e.tr,o=e.selection,r=e.schema,i=o.empty,s=o.from,a=o.to,l=r.marks[this.name];if(!l)return!1;if(i)n.removeStoredMark(l);else if(n.removeMark(s,a,l),!n.docChanged)return!1;return t(n.scrollIntoView()),!0},e.prototype.canExecute=function(e){return this.execute({})(e,null)},e}(),$=new T("strong"),J=new T("em"),Q=new T("code"),Y=new T("u"),K=new T("s"),X=new j,Z=new R(!0),ee=new R(!1),te=new F(1),ne=new F(2),oe=new F(3),re=new F(4),ie=new F(5),se=new F(6),ae=new B("left"),le=new B("center"),ce=new B("right"),ue=new B("justify"),de=new U,pe=new G,ge=new W("text_color"),he=new W("text_background_color"),fe=new Map;fe.set("bold",$),fe.set("italic",J),fe.set("code",Q),fe.set("underline",Y),fe.set("strike",K),fe.set("blockquote",X),fe.set("bullet_list",Z),fe.set("ordered_list",ee),fe.set("h1",te),fe.set("h2",ne),fe.set("h3",oe),fe.set("h4",re),fe.set("h5",ie),fe.set("h6",se),fe.set("align_left",ae),fe.set("align_center",le),fe.set("align_right",ce),fe.set("align_justify",ue);var me=de,ve=pe,be=ge,xe=he,_e={bold:'\n  <path d="M15.6 10.79c.97-.67 1.65-1.77 1.65-2.79 0-2.26-1.75-4-4-4H7v14h7.04c2.09 0 3.71-1.7 3.71-3.79 0-1.52-.86-2.82-2.15-3.42zM10 6.5h3c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5h-3v-3zm3.5 9H10v-3h3.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5z" />\n  <path d="M0 0h24v24H0z" fill="none" />\n',italic:'\n  <path d="M0 0h24v24H0z" fill="none" />\n  <path d="M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4z" />\n',code:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M9.4 16.6L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4zm5.2 0l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4z"/>\n',underline:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"/>\n',strike:'\n<path d="M6.85,7.08C6.85,4.37,9.45,3,12.24,3c1.64,0,3,0.49,3.9,1.28c0.77,0.65,1.46,1.73,1.46,3.24h-3.01 c0-0.31-0.05-0.59-0.15-0.85c-0.29-0.86-1.2-1.28-2.25-1.28c-1.86,0-2.34,1.02-2.34,1.7c0,0.48,0.25,0.88,0.74,1.21 C10.97,8.55,11.36,8.78,12,9H7.39C7.18,8.66,6.85,8.11,6.85,7.08z M21,12v-2H3v2h9.62c1.15,0.45,1.96,0.75,1.96,1.97 c0,1-0.81,1.67-2.28,1.67c-1.54,0-2.93-0.54-2.93-2.51H6.4c0,0.55,0.08,1.13,0.24,1.58c0.81,2.29,3.29,3.3,5.67,3.3 c2.27,0,5.3-0.89,5.3-4.05c0-0.3-0.01-1.16-0.48-1.94H21V12z"/>\n',ordered_list:'\n<path d="M2 17h2v.5H3v1h1v.5H2v1h3v-4H2v1zm1-9h1V4H2v1h1v3zm-1 3h1.8L2 13.1v.9h3v-1H3.2L5 10.9V10H2v1zm5-6v2h14V5H7zm0 14h14v-2H7v2zm0-6h14v-2H7v2z"/>\n<path d="M0 0h24v24H0z" fill="none"/>\n',bullet_list:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M4 10.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5 1.5-.67 1.5-1.5-.67-1.5-1.5-1.5zm0-6c-.83 0-1.5.67-1.5 1.5S3.17 7.5 4 7.5 5.5 6.83 5.5 6 4.83 4.5 4 4.5zm0 12c-.83 0-1.5.68-1.5 1.5s.68 1.5 1.5 1.5 1.5-.68 1.5-1.5-.67-1.5-1.5-1.5zM7 19h14v-2H7v2zm0-6h14v-2H7v2zm0-8v2h14V5H7z"/>\n',blockquote:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M6 17h3l2-4V7H5v6h3zm8 0h3l2-4V7h-6v6h3z"/>\n',link:'\n<path d="M0 0h24v24H0z" fill="none"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>\n',unlink:'\n<path d="M0 0h24v24H0V0z" fill="none"/>\n<path d="M17 7h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.43-.98 2.63-2.31 2.98l1.46 1.46C20.88 15.61 22 13.95 22 12c0-2.76-2.24-5-5-5zm-1 4h-2.19l2 2H16zM2 4.27l3.11 3.11C3.29 8.12 2 9.91 2 12c0 2.76 2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1 0-1.59 1.21-2.9 2.76-3.07L8.73 11H8v2h2.73L13 15.27V17h1.73l4.01 4L20 19.74 3.27 3 2 4.27z"/>\n<path d="M0 24V0" fill="none"/>\n',image:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"/>\n',align_left:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"/>\n',align_center:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"/>\n',align_right:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"/>\n',align_justify:'\n<path d="M0 0h24v24H0z" fill="none"/>\n<path d="M3 21h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18v-2H3v2zm0-4h18V7H3v2zm0-6v2h18V3H3z"/>\n',text_color:'\n<path d="M2,20h20v4H2V20z M5.49,17h2.42l1.27-3.58h5.65L16.09,17h2.42L13.25,3h-2.5L5.49,17z M9.91,11.39l2.03-5.79h0.12l2.03,5.79 H9.91z"/>\n',color_fill:'\n<path d="M16.56,8.94L7.62,0L6.21,1.41l2.38,2.38L3.44,8.94c-0.59,0.59-0.59,1.54,0,2.12l5.5,5.5C9.23,16.85,9.62,17,10,17 s0.77-0.15,1.06-0.44l5.5-5.5C17.15,10.48,17.15,9.53,16.56,8.94z M5.21,10L10,5.21L14.79,10H5.21z M19,11.5c0,0-2,2.17-2,3.5 c0,1.1,0.9,2,2,2s2-0.9,2-2C21,13.67,19,11.5,19,11.5z M2,20h20v4H2V20z"/>\n'},ye=function(){function e(){}return e.get=function(e){return'\n      <svg\n        xmlns="http://www.w3.org/2000/svg"\n        viewBox="0 0 24 24"\n        fill="black"\n        height=20\n        width=20\n      >\n        '+(_e[e]||"<path></path>")+"\n      </svg>\n    "},e}(),we=function(){function e(e,t){var n=this;this.ngxeService=e,this.sharedService=t,this.isActive=!1,this.disabled=!1,this.update=function(e){var t=e.state,o=fe.get(n.name);n.isActive=o.isActive(t),n.disabled=!o.canExecute(t)},this.editorView=this.sharedService.view,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){n.update(e)}))}return e.prototype.toggle=function(e){if(e.preventDefault(),0===e.button){var t=this.editorView,n=t.state,o=t.dispatch;fe.get(this.name).execute(n,o)}},e.prototype.getTitle=function(e){return this.ngxeService.locals.get(e)},e.prototype.ngOnInit=function(){this.html=ye.get(this.name)},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();we.decorators=[{type:t.Component,args:[{selector:"ngx-simple-command",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="html | sanitizeHtml" (mousedown)="toggle($event)"\n  [title]="getTitle(name)">\n</div>\n',styles:[""]}]}],we.ctorParameters=function(){return[{type:D},{type:P}]},we.propDecorators={name:[{type:t.Input}],isActive:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}]};var Ee=function(){function e(e,t,o){var r=this;this.el=e,this.ngxeService=t,this.sharedService=o,this.showPopup=!1,this.isActive=!1,this.canExecute=!0,this.form=new n.FormGroup({href:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),text:new n.FormControl("",[n.Validators.required]),openInNewTab:new n.FormControl(!0)}),this.setText=function(){var e=r.editorView.state,t=e.selection,n=e.doc,o=t.empty,i=t.from,s=t.to,a=o?"":n.textBetween(i,s);a&&(r.text.patchValue(a),r.text.disable())},this.update=function(e){var t=e.state;r.isActive=me.isActive(t,{strict:!1}),r.canExecute=me.canExecute(t)},this.editorView=this.sharedService.view,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){r.update(e)}))}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return ye.get(this.isActive?"unlink":"link")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"href",{get:function(){return this.form.get("href")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this.form.get("text")},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({href:"",text:"",openInNewTab:!0}),this.text.enable()},e.prototype.onMouseDown=function(e){if(e.preventDefault(),0===e.button){var t=this.editorView,n=t.state,o=t.dispatch;this.isActive?me.remove(n,o):(this.showPopup=!this.showPopup,this.showPopup&&this.setText())}},e.prototype.insertLink=function(e){e.preventDefault();var t=this.form.getRawValue(),n=t.text,o=t.href,r=t.openInNewTab,i=this.editorView,s=i.dispatch,a=i.state,l={title:o,href:o,target:r?"_blank":"_self"};a.selection.empty?me.insert(n,l,a,s):me.update(l,a,s),this.hideForm()},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();Ee.decorators=[{type:t.Component,args:[{selector:"ngx-link",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="href" autofocus autocomplete="off" />\n        <div *ngIf="href.touched && href.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ href.errors.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'text\')}}</label>\n        <input type="text" formControlName="text" autocomplete="off" />\n        <div *ngIf="text.touched && text.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ text.errors.required && \'This is required\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label>\n          <input type="checkbox" formControlName="openInNewTab" />\n          {{getLabel(\'openInNewTab\')}}\n        </label>\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],Ee.ctorParameters=function(){return[{type:t.ElementRef},{type:D},{type:P}]},Ee.propDecorators={name:[{type:t.Input}],valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]};var Ne=function(){function e(e,t,n){var o=this;this.ngxeService=e,this.sharedService=t,this.el=n,this.isDropdownOpen=!1,this.activeItems=[],this.disabledItems=[],this.update=function(e){var t=e.state;o.activeItems=[],o.disabledItems=[],o.items.forEach((function(e){var n=fe.get(e);n.isActive(t)&&o.activeItems.push(e),n.canExecute(t)||o.disabledItems.push(e)})),1===o.activeItems.length?o.activeItem=o.activeItems[0]:o.activeItem=null},this.editorView=this.sharedService.view,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){o.update(e)}))}return Object.defineProperty(e.prototype,"isSelected",{get:function(){return Boolean(this.activeItem||this.isDropdownOpen)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDropdownDisabled",{get:function(){return this.disabledItems.length===this.items.length},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e)&&this.isDropdownOpen&&(this.isDropdownOpen=!1)},e.prototype.getName=function(e){return this.ngxeService.locals.get(e)},e.prototype.toggleDropdown=function(e){e.preventDefault(),this.isDropdownOpen=!this.isDropdownOpen},e.prototype.onClick=function(e,t){if(e.preventDefault(),0===e.button){var n=fe.get(t),o=this.editorView,r=o.state,i=o.dispatch;n.execute(r,i),this.isDropdownOpen=!1}},e.prototype.ngOnInit=function(){this.selected=this.group},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();Ne.decorators=[{type:t.Component,args:[{selector:"ngx-dropdown",template:'<div class="NgxEditor__Dropdown--Text" (mousedown)="toggleDropdown($event)">\n  {{getName(activeItem || selected)}}\n</div>\n\n<div class="NgxEditor__Dropdown--DropdownMenu" *ngIf="isDropdownOpen">\n  <div class="NgxEditor__Dropdown--Item" *ngFor="let item of items" (mousedown)="onClick($event, item)"\n    [ngClass]="{\'NgxEditor__Dropdown--Active\': item === activeItem, \'NgxEditor--Disabled\':disabledItems.includes(item)}">\n    {{getName(item)}}\n  </div>\n</div>\n',styles:[""]}]}],Ne.ctorParameters=function(){return[{type:D},{type:P},{type:t.ElementRef}]},Ne.propDecorators={group:[{type:t.Input}],items:[{type:t.Input}],isSelected:[{type:t.HostBinding,args:["class.NgxEditor__Dropdown--Selected"]}],isDropdownDisabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event.target"]]}]};var ke=function(){function e(e,t,o){var r=this;this.el=e,this.ngxeService=t,this.sharedService=o,this.showPopup=!1,this.isActive=!1,this.form=new n.FormGroup({src:new n.FormControl("",[n.Validators.required,n.Validators.pattern("(https?://)?([\\da-z.-]+)\\.([a-z.]{2,6})[/\\w .-]*/?")]),alt:new n.FormControl(""),title:new n.FormControl("")}),this.update=function(e){var t=e.state;r.isActive=ve.isActive(t)},this.editorView=this.sharedService.view,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){r.update(e)}))}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return ye.get("image")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"src",{get:function(){return this.form.get("src")},enumerable:!1,configurable:!0}),e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hideForm()},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.hideForm=function(){this.showPopup=!1,this.form.reset({src:"",alt:"",title:""})},e.prototype.onMouseDown=function(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup,this.showPopup&&this.fillForm())},e.prototype.fillForm=function(){var e=this.editorView.state.selection;if(e instanceof o.NodeSelection&&this.isActive){var t=e.node.attrs,n=t.src,r=t.alt,i=void 0===r?"":r,s=t.title,a=void 0===s?"":s;this.form.setValue({src:n,alt:i,title:a})}},e.prototype.insertLink=function(e){e.preventDefault();var t=this.form.getRawValue(),n=t.src,o=t.alt,r=t.title,i=this.editorView,s=i.dispatch,a=i.state,l={src:n,alt:o,title:r};ve.execute(l,a,s),this.hideForm()},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();ke.decorators=[{type:t.Component,args:[{selector:"ngx-image",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="onMouseDown($event)">\n</div>\n\n\x3c!-- popup --\x3e\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <form class="NgxEditor__Popup--Form" [formGroup]="form" (ngSubmit)="insertLink($event)">\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'url\')}}</label>\n        <input type="href" id="href" formControlName="src" autofocus autocomplete="off" />\n        <div *ngIf="src.touched && src.invalid" class="NgxEditor__HelpText NgxEditor__HelpText--Error">\n          {{ src.errors.pattern && \'Please enter valid url.\' }}\n        </div>\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'altText\')}}</label>\n        <input type="text" formControlName="alt" autocomplete="off" />\n      </div>\n    </div>\n\n    <div class="NgxEditor__Popup--FormGroup">\n      <div class="NgxEditor__Popup--Col">\n        <label class="NgxEditor__Popup--Label">{{getLabel(\'title\')}}</label>\n        <input type="text" formControlName="title" autocomplete="off" />\n      </div>\n    </div>\n\n    <button type="submit" [disabled]="!form.valid || !form.dirty">{{getLabel(\'insert\')}}</button>\n\n  </form>\n</div>\n',styles:[""]}]}],ke.ctorParameters=function(){return[{type:t.ElementRef},{type:D},{type:P}]},ke.propDecorators={name:[{type:t.Input}],valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]};var Me=function(){function e(e,t,n){var o=this;this.el=e,this.sharedService=t,this.ngxeService=n,this.showPopup=!1,this.isActive=!1,this.activeColors=[],this.canExecute=!0,this.update=function(e){var t=e.state;o.canExecute=o.command.execute(null)(t),o.isActive=o.command.isActive(t),o.activeColors=[],o.isActive&&(o.activeColors=o.command.getActiveColors(t))},this.editorView=this.sharedService.view,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){o.update(e)}))}return Object.defineProperty(e.prototype,"valid",{get:function(){return this.isActive||this.showPopup},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return!this.canExecute},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"presets",{get:function(){return this.ngxeService.colorPresets},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return this.getLabel("text_color"===this.type?"text_color":"background_color")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return ye.get("text_color"===this.type?"text_color":"color_fill")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"command",{get:function(){return"text_color"===this.type?be:xe},enumerable:!1,configurable:!0}),e.prototype.getContrastYIQ=function(e){return e=e.replace("#",""),(299*parseInt(e.substr(0,2),16)+587*parseInt(e.substr(2,2),16)+114*parseInt(e.substr(4,2),16))/1e3>=128?"black":"white"},e.prototype.onDocumentClick=function(e){!this.el.nativeElement.contains(e.target)&&this.showPopup&&this.hidePopup()},e.prototype.hidePopup=function(){this.showPopup=!1},e.prototype.togglePopup=function(e){e.preventDefault(),0===e.button&&(this.showPopup=!this.showPopup)},e.prototype.remove=function(e){e.preventDefault();var t=this.editorView,n=t.state,o=t.dispatch;this.command.remove(n,o),this.hidePopup()},e.prototype.onColorSelect=function(e,t){if(e.preventDefault(),0===e.button){var n=this.editorView,o=n.state,r=n.dispatch,i={};"text_color"===this.type?i.color=t:i.backgroundColor=t,this.command.execute(i)(o,r),this.editorView.hasFocus()||this.editorView.focus(),this.hidePopup()}},e.prototype.getLabel=function(e){return this.ngxeService.locals.get(e)},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();Me.decorators=[{type:t.Component,args:[{selector:"ngx-color-picker",template:'<div class="NgxEditor__MenuItem--IconContainer" [innerHTML]="icon | sanitizeHtml" (mousedown)="togglePopup($event)"\n  [title]="title">\n</div>\n\n<div *ngIf="showPopup" class="NgxEditor__Popup">\n  <div *ngFor="let colorGroup of presets" class="NgxEditor__ColorContainer">\n    <button class="NgxEditor__Color" *ngFor="let color of colorGroup"\n      [ngStyle]="{backgroundColor: color, color:getContrastYIQ(color)}" [title]="color"\n      (mousedown)="onColorSelect($event, color)"\n      [ngClass]="{\'NgxEditor__Color--Active\': activeColors.includes(color)}"></button>\n  </div>\n\n  <button class="NgxEditor__MenuItem--Button" (mousedown)="remove($event)" [disabled]="!isActive">\n    {{getLabel(\'remove\')}}\n  </button>\n</div>\n',styles:['@charset "UTF-8";.NgxEditor__Popup{width:230px}.NgxEditor__ColorContainer{display:flex;justify-content:space-between}.NgxEditor__ColorContainer+.NgxEditor__ColorContainer{margin-top:5px}.NgxEditor__Color{border:none;border-radius:6px;flex-shrink:0;height:24px;outline:none;width:24px}.NgxEditor__Color--Active:after{content:"✔";font-size:90%}.NgxEditor__MenuItem--Button{margin-top:5px}']}]}],Me.ctorParameters=function(){return[{type:t.ElementRef},{type:P},{type:D}]},Me.propDecorators={valid:[{type:t.HostBinding,args:["class.NgxEditor__MenuItem--Active"]}],disabled:[{type:t.HostBinding,args:["class.NgxEditor--Disabled"]}],type:[{type:t.Input}],onDocumentClick:[{type:t.HostListener,args:["document:mousedown",["$event"]]}]};var Ie=function(){function e(e){this.sanitizer=e}return e.prototype.transform=function(e){return this.sanitizer.bypassSecurityTrustHtml(e)},e}();Ie.decorators=[{type:t.Pipe,args:[{name:"sanitizeHtml"}]}],Ie.ctorParameters=function(){return[{type:g.DomSanitizer}]};var Ce=function(){};Ce.decorators=[{type:t.NgModule,args:[{imports:[c.CommonModule,n.ReactiveFormsModule],declarations:[Ie,V,we,Ee,Ne,ke,Me],exports:[V]}]}];var De=function(){function e(e,t,n){var o=this;this.sharedService=e,this.el=t,this.renderer=n,this.pluginUpdateSubscription=this.sharedService.plugin.update.subscribe((function(e){o.view=e,o.update(e)}))}return e.prototype.setDomPosition=function(e){this.showBubble();var t=d.calculateBubblePos(e,this.el.nativeElement),n=t.bottom,o=t.left;this.renderer.setStyle(this.el.nativeElement,"left",o+"px"),this.renderer.setStyle(this.el.nativeElement,"bottom",n+"px")},e.prototype.showBubble=function(){this.renderer.setStyle(this.el.nativeElement,"display","")},e.prototype.hideBubble=function(){this.renderer.setStyle(this.el.nativeElement,"display","none")},e.prototype.removeLink=function(){var e=this.view,t=e.state,n=e.dispatch;p.removeLink()(t,n),this.view.focus()},e.prototype.update=function(e){var t=e.state,n=t.schema,r=t.selection;if(n.marks.link&&!(r instanceof o.NodeSelection&&"image"===r.node.type.name)){var i=e.hasFocus(),s=d.isLinkActive(t),a=d.getSelectionMarks(t).filter((function(e){return e.type===n.marks.link}));if(i&&s){var l=h(a,1)[0];this.activeLinkItem=l,this.setDomPosition(e)}else this.hideBubble()}},e.prototype.ngOnInit=function(){},e.prototype.ngOnDestroy=function(){this.pluginUpdateSubscription.unsubscribe()},e}();De.decorators=[{type:t.Component,args:[{selector:"ngx-bubble",template:'<ng-container *ngIf="activeLinkItem">\n  <a [href]="activeLinkItem.attrs.href" target="_blank" [title]="activeLinkItem.attrs.href">\n    {{activeLinkItem.attrs.href}}\n  </a>\n  <div class="commands">\n    <button class="command" (click)="removeLink()">Remove link</button>\n  </div>\n</ng-container>\n',styles:[':host{align-items:center;background:#fff;border:1px solid silver;border-radius:4px;display:flex;margin-bottom:.3rem;padding:.3rem;position:absolute;transform:translateX(-50%);z-index:20}:host:after,:host:before{border:solid transparent;border-width:5px 5px 0;content:"";height:0;left:50%;margin-left:-5px;position:absolute;width:0}:host:before{border-top-color:silver;bottom:-6px}:host:after{border-top-color:#fff;bottom:-4.5px}:host a{display:inline-block;margin-left:2px;max-width:15rem;overflow:hidden;text-overflow:ellipsis}:host .commands{display:flex;margin-left:.5rem}:host .commands .command{background-color:#f1f1f1;border:none;border-radius:2px;display:flex;padding:2px;white-space:nowrap}:host .commands .command:hover{text-decoration:underline}']}]}],De.ctorParameters=function(){return[{type:P},{type:t.ElementRef},{type:t.Renderer2}]};var He=new t.InjectionToken("NgxEditorConfig"),ze=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:He,useValue:t},{provide:C,useFactory:z,deps:[He]}]}},e}();function Pe(e){return null!=e&&"number"==typeof e.length}ze.decorators=[{type:t.NgModule,args:[{imports:[c.CommonModule,Ce],providers:[P],declarations:[L,De],exports:[L],entryComponents:[De]}]}];var Oe=function(){function e(){}return e.required=function(e){return function(t){var n,o=e||E,r=S(t.value,o);return 1===r.childCount&&(null===(n=null==r?void 0:r.firstChild)||void 0===n?void 0:n.isTextblock)&&0===r.firstChild.content.size?{required:!0}:null}},e.maxLength=function(e,t){return function(n){var o=t||E,r=S(n.value,o).textContent;return Pe(r)&&r.length>e?{maxlength:{requiredLength:e,actualLength:r.length}}:null}},e.minLength=function(e,t){return function(n){var o=t||E,r=S(n.value,o).textContent;return function(e){return null==e||0===e.length}(r)||!Pe(r)?null:r.length<e?{minlength:{requiredLength:e,actualLength:r.length}}:null}},e}();e.NgxEditorComponent=L,e.NgxEditorModule=ze,e.Validators=Oe,e.marks=w,e.nodes=y,e.parseValue=S,e.schema=E,e.toDoc=A,e.toHTML=O,e.ɵa=C,e.ɵb=D,e.ɵc=z,e.ɵd=P,e.ɵe=Ce,e.ɵf=Ie,e.ɵg=V,e.ɵh=we,e.ɵi=Ee,e.ɵj=Ne,e.ɵk=ke,e.ɵl=Me,e.ɵm=De,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-editor.umd.min.js.map